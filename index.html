<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Weather App</title>
  <style>
    /* Reset */
    *{box-sizing:border-box;margin:0;padding:0;font-family: 'Arial', sans-serif}
    html,body,#app{height:100%}

    /* Background gradient matching the screenshot */
    body{
      background: radial-gradient(circle at center, #73e59a 0%, #34c6e6 45%, #1aa0d9 100%);
      height:100vh;display:flex;align-items:center;justify-content:center;
    }

    /* App container */
    .card{
      width:900px; height:650px; border-radius:12px; position:relative; display:flex; flex-direction:column; align-items:center; padding:28px 34px;
      /* subtle inner gradient to match lighter center */
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.02));
      box-shadow: 0 30px 80px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.05);
    }

    h1{font-size:40px; color:#0f2b32; margin-bottom:18px; font-weight:700}

    /* Search row */
    .search-row{width:100%; display:flex; align-items:center; gap:10px}
    .input{flex:1; height:48px; border-radius:6px; border:0; padding:10px 18px; font-size:20px;}
    .get-btn{height:48px; min-width:140px; background:#196aa6; color:white; border-radius:6px; border:0; font-size:18px; cursor:pointer}
    .get-btn:active{transform:translateY(1px)}

    /* White pill on left (decorative) */
    .left-pill{position:absolute; left:-20px; top:50%; transform:translateY(-50%); width:32px; height:60px; border-radius:20px; background:white}

    /* Center icon */
    .icon{margin-top:36px}
    .temp{font-size:86px; font-weight:800; color:#07201f; margin-top:12px}
    .desc{font-size:20px; color:#0b3a3a; margin-top:8px}

    /* Bottom stats */
    .stats{position:absolute; left:34px; right:34px; bottom:28px; display:flex; gap:18px; justify-content:space-between}
    .stat{flex:1; background:rgba(255,255,255,0.95); padding:18px; border-radius:10px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); text-align:left}
    .stat h3{font-size:16px; color:#333; margin-bottom:6px}
    .stat p{font-size:20px; font-weight:700}

    /* Make it look exactly like screenshot proportions on smaller screens */
    @media (max-width:980px){.card{width:95%;height:auto;padding:20px}}
  </style>
</head>
<body>
  <div class="card" id="app">
    <div class="left-pill"></div>

    <h1>Weather App</h1>

    <div class="search-row">
      <input id="cityInput" class="input" value="london" />
      <button id="getBtn" class="get-btn">Get Weather</button>
    </div>

    <div class="icon" id="iconContainer">
      <!-- SVG cloud + moon icon to match picture -->
      <svg width="120" height="120" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
        <g fill="none" fill-rule="evenodd">
          <path d="M24 18a10 10 0 0 0-9.95 10.95A7.5 7.5 0 0 0 16.5 46h22a7 7 0 0 0 6.5-4.5A9 9 0 0 0 46 22c0-6.627-5.373-12-12-12-3.24 0-6.2 1.333-8.4 3.476A9.002 9.002 0 0 0 24 18z" fill="#ffffff" opacity="0.95"/>
          <circle cx="44" cy="14" r="9" fill="#3c6b6b" opacity="0.95"/>
        </g>
      </svg>
    </div>

    <div class="temp" id="tempText">19&deg;C</div>
    <div class="desc" id="descText">few clouds</div>

    <div class="stats">
      <div class="stat">
        <h3>Feels like</h3>
        <p id="feels">19</p>
      </div>

      <div class="stat">
        <h3>Humidity</h3>
        <p id="humidity">58%</p>
      </div>

      <div class="stat">
        <h3>Wind speed</h3>
        <p id="wind">0.89 m/s</p>
      </div>
    </div>
  </div>

  <script>
const API_KEY = 'dae989ade22601682e2c43212e733d35';

const cityInput = document.getElementById('cityInput');
const getBtn = document.getElementById('getBtn');
const tempText = document.getElementById('tempText');
const descText = document.getElementById('descText');
const feels = document.getElementById('feels');
const humidity = document.getElementById('humidity');
const wind = document.getElementById('wind');
const iconContainer = document.getElementById("iconContainer");

// Map OpenWeather icon code → our custom SVG icons
function getWeatherIcon(code) {
    // Clear sky
    if (code === "01d") return sunIcon();
    if (code === "01n") return moonIcon();

    // Few clouds
    if (code === "02d" || code === "02n") return cloudSunIcon();

    // Scattered/broken clouds
    if (code === "03d" || code === "03n" || code === "04d" || code === "04n") 
        return cloudIcon();

    // Rain
    if (code.startsWith("09") || code.startsWith("10")) return rainIcon();

    // Thunderstorm
    if (code.startsWith("11")) return thunderIcon();

    // Snow
    if (code.startsWith("13")) return snowIcon();

    // Mist / fog / haze
    if (code.startsWith("50")) return fogIcon();

    return cloudIcon();
}

// Icons (SVG)
function sunIcon() {
    return `
    <svg width="120" height="120" viewBox="0 0 64 64">
        <circle cx="32" cy="32" r="14" fill="#FFD93B"/>
    </svg>`;
}

function moonIcon() {
    return `
    <svg width="120" height="120" viewBox="0 0 64 64">
        <path d="M40 2a22 22 0 1 0 20 32A20 20 0 0 1 40 2z" fill="#BFCBD9"/>
    </svg>`;
}

function cloudSunIcon() {
    return `
    <svg width="120" height="120" viewBox="0 0 64 64">
      <circle cx="20" cy="20" r="10" fill="#FFD93B"/>
      <ellipse cx="38" cy="36" rx="16" ry="10" fill="#fff"/>
    </svg>`;
}

function cloudIcon() {
    return `
    <svg width="120" height="120" viewBox="0 0 64 64">
      <ellipse cx="32" cy="36" rx="20" ry="12" fill="#fff"/>
    </svg>`;
}

function rainIcon() {
    return `
    <svg width="120" height="120" viewBox="0 0 64 64">
      <ellipse cx="32" cy="28" rx="18" ry="10" fill="#fff"/>
      <line x1="22" y1="40" x2="22" y2="54" stroke="#78A6FF" stroke-width="4"/>
      <line x1="32" y1="40" x2="32" y2="54" stroke="#78A6FF" stroke-width="4"/>
      <line x1="42" y1="40" x2="42" y2="54" stroke="#78A6FF" stroke-width="4"/>
    </svg>`;
}

function thunderIcon() {
    return `
    <svg width="120" height="120" viewBox="0 0 64 64">
      <ellipse cx="32" cy="28" rx="18" ry="10" fill="#fff"/>
      <polygon points="30,40 38,40 32,54 40,54" fill="#FFB000"/>
    </svg>`;
}

function snowIcon() {
    return `
    <svg width="120" height="120" viewBox="0 0 64 64">
      <ellipse cx="32" cy="28" rx="18" ry="10" fill="#fff"/>
      <text x="26" y="54" font-size="28">❄</text>
    </svg>`;
}

function fogIcon() {
    return `
    <svg width="120" height="120" viewBox="0 0 64 64">
      <rect x="10" y="28" width="44" height="6" fill="#dfe4ea"/>
      <rect x="12" y="38" width="40" height="6" fill="#dfe4ea"/>
      <rect x="8"  y="48" width="48" height="6" fill="#dfe4ea"/>
    </svg>`;
}


// Render weather data
function render(data){
    const t = Math.round(data.main.temp);
    tempText.innerHTML = t + '&deg;C';
    descText.textContent = data.weather[0].description;
    feels.textContent = Math.round(data.main.feels_like);
    humidity.textContent = data.main.humidity + '%';
    wind.textContent = data.wind.speed + ' m/s';

    // PUT ICON
    const iconCode = data.weather[0].icon;
    iconContainer.innerHTML = getWeatherIcon(iconCode);
}

async function fetchWeather(city){
    try{
        const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)}&units=metric&appid=${API_KEY}`);
        if(!res.ok) throw new Error('City not found');
        const data = await res.json();
        render(data);
    }catch(e){
        alert('Error fetching weather: '+e.message);
    }
}

// Initial demo
fetchWeather("London");

getBtn.addEventListener('click', ()=>fetchWeather(cityInput.value.trim()));
cityInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') fetchWeather(cityInput.value.trim()); });
</script>
